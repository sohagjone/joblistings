{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\reactJs_Project\\\\job-listing-react\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _objectSpread from\"E:\\\\reactJs_Project\\\\job-listing-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"E:\\\\reactJs_Project\\\\job-listing-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\reactJs_Project\\\\job-listing-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{ThemeProvider,Grid,CircularProgress,Box}from\"@material-ui/core\";import theme from\"./theme/theme\";import Header from\"./components/Header\";import SearchBar from\"./components/SearchBar\";import JobCard from\"./components/Job/JobCard\";import NewJobModel from\"./components/Job/NewJobModel\";import{firestore}from\"./firebase/config\";import app from\"firebase/app\";export default(function(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),jobs=_useState2[0],setJobs=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),newJobModal=_useState6[0],setNewJobModal=_useState6[1];var fetchJobs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var req,tempJobs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return firestore.collection(\"jobs\").orderBy(\"postedOn\",\"desc\").get();case 2:req=_context.sent;tempJobs=req.docs.map(function(job){return _objectSpread(_objectSpread({},job.data()),{},{id:job.id,postedOn:job.data().postedOn.toDate()});});setJobs(tempJobs);setLoading(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchJobs(){return _ref.apply(this,arguments);};}();var postJob=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(jobDetails){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return firestore.collection(\"jobs\").add(_objectSpread(_objectSpread({},jobDetails),{},{postedOn:app.firestore.FieldValue.serverTimestamp()}));case 2:fetchJobs();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function postJob(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchJobs();},[]);return/*#__PURE__*/React.createElement(ThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(Header,{openNewJobModal:function openNewJobModal(){return setNewJobModal(true);}}),/*#__PURE__*/React.createElement(NewJobModel,{closeModal:function closeModal(){return setNewJobModal(false);},newJobModal:newJobModal,postJob:postJob}),/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:10},/*#__PURE__*/React.createElement(SearchBar,null),loading?/*#__PURE__*/React.createElement(Box,{display:\"flex\",justifyContent:\"center\"},/*#__PURE__*/React.createElement(CircularProgress,null)):jobs.map(function(job){return/*#__PURE__*/React.createElement(JobCard,Object.assign({key:job.id},job));}))));});","map":{"version":3,"sources":["E:/reactJs_Project/job-listing-react/src/App.js"],"names":["React","useState","useEffect","ThemeProvider","Grid","CircularProgress","Box","theme","Header","SearchBar","JobCard","NewJobModel","firestore","app","jobs","setJobs","loading","setLoading","newJobModal","setNewJobModal","fetchJobs","collection","orderBy","get","req","tempJobs","docs","map","job","data","id","postedOn","toDate","postJob","jobDetails","add","FieldValue","serverTimestamp"],"mappings":"4eAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,aAAT,CAAwBC,IAAxB,CAA8BC,gBAA9B,CAAgDC,GAAhD,KAA2D,mBAA3D,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,OAASC,SAAT,KAA0B,mBAA1B,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CAEA,eAAe,UAAM,eACKZ,QAAQ,CAAC,EAAD,CADb,wCACZa,IADY,eACNC,OADM,8BAEWd,QAAQ,CAAC,IAAD,CAFnB,yCAEZe,OAFY,eAEHC,UAFG,8BAGmBhB,QAAQ,CAAC,KAAD,CAH3B,yCAGZiB,WAHY,eAGCC,cAHD,eAKnB,GAAMC,CAAAA,SAAS,0FAAG,0KACER,CAAAA,SAAS,CACxBS,UADe,CACJ,MADI,EAEfC,OAFe,CAEP,UAFO,CAEK,MAFL,EAGfC,GAHe,EADF,QACVC,GADU,eAKVC,QALU,CAKCD,GAAG,CAACE,IAAJ,CAASC,GAAT,CAAa,SAACC,GAAD,wCACzBA,GAAG,CAACC,IAAJ,EADyB,MAE5BC,EAAE,CAAEF,GAAG,CAACE,EAFoB,CAG5BC,QAAQ,CAAEH,GAAG,CAACC,IAAJ,GAAWE,QAAX,CAAoBC,MAApB,EAHkB,IAAb,CALD,CAUhBjB,OAAO,CAACU,QAAD,CAAP,CACAR,UAAU,CAAC,KAAD,CAAV,CAXgB,sDAAH,kBAATG,CAAAA,SAAS,0CAAf,CAaA,GAAMa,CAAAA,OAAO,2FAAG,kBAAOC,UAAP,6IACRtB,CAAAA,SAAS,CAACS,UAAV,CAAqB,MAArB,EAA6Bc,GAA7B,gCACDD,UADC,MAEJH,QAAQ,CAAElB,GAAG,CAACD,SAAJ,CAAcwB,UAAd,CAAyBC,eAAzB,EAFN,GADQ,QAKdjB,SAAS,GALK,wDAAH,kBAAPa,CAAAA,OAAO,6CAAb,CAQA/B,SAAS,CAAC,UAAM,CACdkB,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CAGA,mBACE,oBAAC,aAAD,EAAe,KAAK,CAAEb,KAAtB,eACE,oBAAC,MAAD,EAAQ,eAAe,CAAI,iCAAMY,CAAAA,cAAc,CAAC,IAAD,CAApB,EAA3B,EADF,cAEE,oBAAC,WAAD,EAAa,UAAU,CAAI,4BAAKA,CAAAA,cAAc,CAAC,KAAD,CAAnB,EAA3B,CAAuD,WAAW,CAAID,WAAtE,CAAmF,OAAO,CAAEe,OAA5F,EAFF,cAGE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAC,QAAxB,eACE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,eACE,oBAAC,SAAD,MADF,CAEGjB,OAAO,cACN,oBAAC,GAAD,EAAK,OAAO,CAAC,MAAb,CAAoB,cAAc,CAAC,QAAnC,eACE,oBAAC,gBAAD,MADF,CADM,CAKNF,IAAI,CAACa,GAAL,CAAS,SAACC,GAAD,qBAAS,oBAAC,OAAD,gBAAS,GAAG,CAAEA,GAAG,CAACE,EAAlB,EAA0BF,GAA1B,EAAT,EAAT,CAPJ,CADF,CAHF,CADF,CAkBD,CA/CD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ThemeProvider, Grid, CircularProgress, Box } from \"@material-ui/core\";\nimport theme from \"./theme/theme\";\nimport Header from \"./components/Header\";\nimport SearchBar from \"./components/SearchBar\";\nimport JobCard from \"./components/Job/JobCard\";\nimport NewJobModel from \"./components/Job/NewJobModel\";\nimport { firestore } from \"./firebase/config\";\nimport app from \"firebase/app\";\n\nexport default () => {\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [newJobModal, setNewJobModal] = useState(false);\n\n  const fetchJobs = async () => {\n    const req = await firestore\n      .collection(\"jobs\")\n      .orderBy(\"postedOn\", \"desc\")\n      .get();\n    const tempJobs = req.docs.map((job) => ({\n      ...job.data(),\n      id: job.id,\n      postedOn: job.data().postedOn.toDate(),\n    }));\n    setJobs(tempJobs);\n    setLoading(false);\n  };\n  const postJob = async (jobDetails) => {\n    await firestore.collection(\"jobs\").add({\n      ...jobDetails,\n      postedOn: app.firestore.FieldValue.serverTimestamp(),\n    });\n    fetchJobs();\n  };\n\n  useEffect(() => {\n    fetchJobs();\n  }, []);\n  return (\n    <ThemeProvider theme={theme}>\n      <Header openNewJobModal = {() => setNewJobModal(true)} />\n      <NewJobModel closeModal = {()=> setNewJobModal(false)} newJobModal = {newJobModal} postJob={postJob} />\n      <Grid container justify=\"center\">\n        <Grid item xs={10}>\n          <SearchBar />\n          {loading ? (\n            <Box display=\"flex\" justifyContent=\"center\">\n              <CircularProgress />\n            </Box>\n          ) : (\n            jobs.map((job) => <JobCard key={job.id} {...job} />)\n          )}\n        </Grid>\n      </Grid>\n    </ThemeProvider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}